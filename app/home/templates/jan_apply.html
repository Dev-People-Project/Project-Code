{% extends 'layouts/base.html' %}

{% block title %} 주최자 정보 {% endblock title %}

{% block content %}

<div class="header pb-6 d-flex align-items-center" 
     style="min-height: 500px; background-image: url(/static/assets/img/theme/profile-cover.jpg); background-size: cover; background-position: center top;">
  <!-- Mask -->
  <span class="mask bg-gradient-default opacity-8"></span>
  <!-- Header container -->
  <div class="container-fluid d-flex align-items-center">
    <div class="row">
      <div class="col-lg-7 col-md-10">
        <h1 class="display-2 text-white">안녕하세요, {{ current_user.username }}님!</h1>
        <a href="#!" class="btn btn-neutral">정보 수정하기</a>
      </div>
    </div>
  </div>
</div>
<!-- Page content -->
<div class="container-fluid mt--6">
  <div class="row">
<<<<<<< HEAD
    <div class="col-xl-4 order-xl-2">
      </div>
    </div>
    <div class="col-xl-8 order-xl-1">
      <div class="card">
        <div class="card-header">
          <div class="row align-items-center">
            <div class="col-8">
              <h3 class="mb-0">정보 등록하기</h3>
            </div>
            <div class="col-4 text-right">
              <a href="#!" class="btn btn-sm btn-primary">확인</a>
            </div>
          </div>
        </div>
        <div class="card-body">
          <form>
            <h6 class="heading-small text-muted mb-4">주최자 정보</h6>
            <div class="pl-lg-4">
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label" for="input-username">주최기관</label>
                    <input type="text" id="input-username" class="form-control" placeholder="Username" value="{{ 여기고치기! }}">
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label" for="input-email">담당자 이름</label>
                    <input type="email" id="input-email" class="form-control" placeholder="{{ current_user.email }}">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label" for="input-first-name">담당자 연락처</label>
                    <input type="text" id="input-first-name" class="form-control" placeholder="First name" value="Lucky">
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label" for="input-last-name"></label>
                    <input type="text" id="input-last-name" class="form-control" placeholder="Last name" value="Jesse">
                  </div>
                </div>
              </div>
            </div>
            <hr class="my-4" />
            <!-- Address -->
            <h6 class="heading-small text-muted mb-4">페스티벌 상세정보</h6>
            <div class="pl-lg-4">
              <div class="row">
                <div class="col-md-12">
                  <div class="form-group">
                    <label class="form-control-label" for="input-address">페스티벌 명</label>
                    <input id="input-address" class="form-control" placeholder="Home Address" value="Bld Mihail Kogalniceanu, nr. 8 Bl 1, Sc 1, Ap 09" type="text">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-4">
                  <div class="form-group">
                    <label class="form-control-label" for="input-city">개최 기간</label>
                    <input type="text" id="input-city" class="form-control" placeholder="City" value="New York">
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="form-group">
                    <label class="form-control-label" for="input-country">개최 장소</label>
                    <input type="text" id="input-country" class="form-control" placeholder="Country" value="United States">
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="form-group">
                    <label class="form-control-label" for="input-country">페스티벌 공식홈페이지</label>
                    <input type="number" id="input-postal-code" class="form-control" placeholder="Postal code">
                  </div>
                </div>
              </div>
            </div>
            <hr class="my-4" />
            <!-- Description -->
            <h6 class="heading-small text-muted mb-4">페스티벌 상세 설명</h6>
            <div class="pl-lg-4">
              <div class="form-group">
                <label class="form-control-label">기타 페스티벌 사항</label>
                <textarea rows="4" class="form-control" placeholder="A few words about you ...">A beautiful Dashboard for Bootstrap 4. It is Free and Open Source.</textarea>
              </div>
            </div>
          </form>
=======
    <div class="col-xl-8 order-xl-1">
      <form role="form" name=applyfm>
        <div class="card">
          <div class="card-header">
            <div class="row align-items-center">
              <div class="col-8">
                <h3 class="mb-0">페스티벌 등록하기</h3>
              </div>
              <div class="col-4 text-right">
                <input type="button" class="btn btn-primary btn-lg btn-block" id="execute" value='저장하기' />
              </div>
            </div>
          </div>
          <div class="card-body">
            <form>
              <h6 class="heading-small text-muted mb-4">주최자 정보</h6>
              <div class="pl-lg-4">
                <div class="row">
                  <div class="col-lg-6">
                    <div class="form-group">
                      <form action='/jan_apply' method='POST'>
                      <label class="form-control-label" for="input-holder">주최기관</label>
                      <input type="text" id="holder" name="holder" class="form-control" placeholder="Organization">
                    </div>
                  </div>
                </div>
              </div>
              <hr class="my-4" />
              <!-- Address -->
              <h6 class="heading-small text-muted mb-4">페스티벌 상세정보</h6>
              <div class="pl-lg-4">
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <form action='/jan_apply' method='POST'>
                      <label class="form-control-label" for="input-festival">페스티벌 명</label>
                      <input id="festival_title" name="festival_title" class="form-control" placeholder="Festival title" type="text">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-4">
                    <div class="form-group">
                      <form action='/jan_apply' method='POST'>
                      <label class="form-control-label" for="input-dates">개최 기간</label>
                      <input type="text" id="dates" name="dates" class="form-control" placeholder="0000-00-00~0000-00-00" >
                    </div>
                  </div>
                  <div class="col-lg-4">
                    <div class="form-group">
                      <form action='/jan_apply' method='POST'>
                      <label class="form-control-label" for="input-location">개최 장소</label>
                      <input type="text" id="location" name="location" class="form-control" placeholder="Location">
                    </div>
                  </div>
                  <div class="col-lg-4">
                    <div class="form-group">
                      <form action='/jan_apply' method='POST'>
                      <label class="form-control-label" for="input-url">페스티벌 공식홈페이지</label>
                      <input type="text" id="url" name="url" class="form-control" placeholder="url">
                    </div>
                  </div>
                </div>
              </div>
              <hr class="my-4" />  
            </form>
          </div>
>>>>>>> 4e35bab22cd56b47d38b561a9bb56c534de65e5e
        </div>
      </form>      
    </div>
  </div>

  {% include "includes/footer.html" %}

</div>

{% endblock content %}
<!— Specific JS goes HERE —>
{% block javascripts %}

<script>
  $('#execute').click(function () {
    let holder = $('#holder').val();
    let festival_title = $('#festival_title').val();
    let dates= $('#dates').val();
    let location = $('#location').val();
    let url= $('#url').val();

    var post_data = {
      'holder': holder,
      'festival_title': festival_title,
      'dates': dates,
      'location': location,
      'url': url,
    }


    theForm = document.applyfm;
    if (theForm.holder.value == ""){
      alert("주최기관을 입력하세요.");
      return theForm.holder.focus();
    }
    
    if (theForm.festival_title.value == ""){
      alert("페스티벌 명을 입력하세요.");
      return theForm.festival_title.focus();
    }

    if (theForm.dates.value == ""){
      alert("페스티벌 기간을 입력하세요.");
      return theForm.dates.focus();
    }
    
  
    $.ajax({
      type: "POST",
      url: "/jan_apply",
      data: JSON.stringify(post_data),
      dataType: 'JSON',
      contentType: "application/json",
      success: function (data) {
        alert("등록되었습니다.");
      },
      error: function (request, status, error) {
        alert(error);
      }
    });
  });
</script>
{% endblock javascripts %}
